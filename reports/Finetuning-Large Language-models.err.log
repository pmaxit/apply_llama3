Traceback (most recent call last):
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
inp = "Iphone is a great technology. Everybody should use it."
tagging_chain.invoke({"input": inp})
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mRateLimitError[0m                            Traceback (most recent call last)
Cell [0;32mIn[10], line 2[0m
[1;32m      1[0m inp [38;5;241m=[39m [38;5;124m"[39m[38;5;124mIphone is a great technology. Everybody should use it.[39m[38;5;124m"[39m
[0;32m----> 2[0m [43mtagging_chain[49m[38;5;241;43m.[39;49m[43minvoke[49m[43m([49m[43m{[49m[38;5;124;43m"[39;49m[38;5;124;43minput[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43minp[49m[43m}[49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/runnables/base.py:2495[0m, in [0;36mRunnableSequence.invoke[0;34m(self, input, config, **kwargs)[0m
[1;32m   2493[0m             [38;5;28minput[39m [38;5;241m=[39m step[38;5;241m.[39minvoke([38;5;28minput[39m, config, [38;5;241m*[39m[38;5;241m*[39mkwargs)
[1;32m   2494[0m         [38;5;28;01melse[39;00m:
[0;32m-> 2495[0m             [38;5;28minput[39m [38;5;241m=[39m [43mstep[49m[38;5;241;43m.[39;49m[43minvoke[49m[43m([49m[38;5;28;43minput[39;49m[43m,[49m[43m [49m[43mconfig[49m[43m)[49m
[1;32m   2496[0m [38;5;66;03m# finish the root run[39;00m
[1;32m   2497[0m [38;5;28;01mexcept[39;00m [38;5;167;01mBaseException[39;00m [38;5;28;01mas[39;00m e:

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/runnables/base.py:4558[0m, in [0;36mRunnableBindingBase.invoke[0;34m(self, input, config, **kwargs)[0m
[1;32m   4552[0m [38;5;28;01mdef[39;00m [38;5;21minvoke[39m(
[1;32m   4553[0m     [38;5;28mself[39m,
[1;32m   4554[0m     [38;5;28minput[39m: Input,
[1;32m   4555[0m     config: Optional[RunnableConfig] [38;5;241m=[39m [38;5;28;01mNone[39;00m,
[1;32m   4556[0m     [38;5;241m*[39m[38;5;241m*[39mkwargs: Optional[Any],
[1;32m   4557[0m ) [38;5;241m-[39m[38;5;241m>[39m Output:
[0;32m-> 4558[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mbound[49m[38;5;241;43m.[39;49m[43minvoke[49m[43m([49m
[1;32m   4559[0m [43m        [49m[38;5;28;43minput[39;49m[43m,[49m
[1;32m   4560[0m [43m        [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_merge_configs[49m[43m([49m[43mconfig[49m[43m)[49m[43m,[49m
[1;32m   4561[0m [43m        [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43m{[49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mkwargs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m}[49m[43m,[49m
[1;32m   4562[0m [43m    [49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py:170[0m, in [0;36mBaseChatModel.invoke[0;34m(self, input, config, stop, **kwargs)[0m
[1;32m    159[0m [38;5;28;01mdef[39;00m [38;5;21minvoke[39m(
[1;32m    160[0m     [38;5;28mself[39m,
[1;32m    161[0m     [38;5;28minput[39m: LanguageModelInput,
[0;32m   (...)[0m
[1;32m    165[0m     [38;5;241m*[39m[38;5;241m*[39mkwargs: Any,
[1;32m    166[0m ) [38;5;241m-[39m[38;5;241m>[39m BaseMessage:
[1;32m    167[0m     config [38;5;241m=[39m ensure_config(config)
[1;32m    168[0m     [38;5;28;01mreturn[39;00m cast(
[1;32m    169[0m         ChatGeneration,
[0;32m--> 170[0m         [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mgenerate_prompt[49m[43m([49m
[1;32m    171[0m [43m            [49m[43m[[49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_convert_input[49m[43m([49m[38;5;28;43minput[39;49m[43m)[49m[43m][49m[43m,[49m
[1;32m    172[0m [43m            [49m[43mstop[49m[38;5;241;43m=[39;49m[43mstop[49m[43m,[49m
[1;32m    173[0m [43m            [49m[43mcallbacks[49m[38;5;241;43m=[39;49m[43mconfig[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mcallbacks[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m    174[0m [43m            [49m[43mtags[49m[38;5;241;43m=[39;49m[43mconfig[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mtags[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m    175[0m [43m            [49m[43mmetadata[49m[38;5;241;43m=[39;49m[43mconfig[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mmetadata[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m    176[0m [43m            [49m[43mrun_name[49m[38;5;241;43m=[39;49m[43mconfig[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mrun_name[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m    177[0m [43m            [49m[43mrun_id[49m[38;5;241;43m=[39;49m[43mconfig[49m[38;5;241;43m.[39;49m[43mpop[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mrun_id[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;28;43;01mNone[39;49;00m[43m)[49m[43m,[49m
[1;32m    178[0m [43m            [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m,[49m
[1;32m    179[0m [43m        [49m[43m)[49m[38;5;241m.[39mgenerations[[38;5;241m0[39m][[38;5;241m0[39m],
[1;32m    180[0m     )[38;5;241m.[39mmessage

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py:599[0m, in [0;36mBaseChatModel.generate_prompt[0;34m(self, prompts, stop, callbacks, **kwargs)[0m
[1;32m    591[0m [38;5;28;01mdef[39;00m [38;5;21mgenerate_prompt[39m(
[1;32m    592[0m     [38;5;28mself[39m,
[1;32m    593[0m     prompts: List[PromptValue],
[0;32m   (...)[0m
[1;32m    596[0m     [38;5;241m*[39m[38;5;241m*[39mkwargs: Any,
[1;32m    597[0m ) [38;5;241m-[39m[38;5;241m>[39m LLMResult:
[1;32m    598[0m     prompt_messages [38;5;241m=[39m [p[38;5;241m.[39mto_messages() [38;5;28;01mfor[39;00m p [38;5;129;01min[39;00m prompts]
[0;32m--> 599[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mgenerate[49m[43m([49m[43mprompt_messages[49m[43m,[49m[43m [49m[43mstop[49m[38;5;241;43m=[39;49m[43mstop[49m[43m,[49m[43m [49m[43mcallbacks[49m[38;5;241;43m=[39;49m[43mcallbacks[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py:456[0m, in [0;36mBaseChatModel.generate[0;34m(self, messages, stop, callbacks, tags, metadata, run_name, run_id, **kwargs)[0m
[1;32m    454[0m         [38;5;28;01mif[39;00m run_managers:
[1;32m    455[0m             run_managers[i][38;5;241m.[39mon_llm_error(e, response[38;5;241m=[39mLLMResult(generations[38;5;241m=[39m[]))
[0;32m--> 456[0m         [38;5;28;01mraise[39;00m e
[1;32m    457[0m flattened_outputs [38;5;241m=[39m [
[1;32m    458[0m     LLMResult(generations[38;5;241m=[39m[res[38;5;241m.[39mgenerations], llm_output[38;5;241m=[39mres[38;5;241m.[39mllm_output)  [38;5;66;03m# type: ignore[list-item][39;00m
[1;32m    459[0m     [38;5;28;01mfor[39;00m res [38;5;129;01min[39;00m results
[1;32m    460[0m ]
[1;32m    461[0m llm_output [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_combine_llm_outputs([res[38;5;241m.[39mllm_output [38;5;28;01mfor[39;00m res [38;5;129;01min[39;00m results])

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py:446[0m, in [0;36mBaseChatModel.generate[0;34m(self, messages, stop, callbacks, tags, metadata, run_name, run_id, **kwargs)[0m
[1;32m    443[0m [38;5;28;01mfor[39;00m i, m [38;5;129;01min[39;00m [38;5;28menumerate[39m(messages):
[1;32m    444[0m     [38;5;28;01mtry[39;00m:
[1;32m    445[0m         results[38;5;241m.[39mappend(
[0;32m--> 446[0m             [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_generate_with_cache[49m[43m([49m
[1;32m    447[0m [43m                [49m[43mm[49m[43m,[49m
[1;32m    448[0m [43m                [49m[43mstop[49m[38;5;241;43m=[39;49m[43mstop[49m[43m,[49m
[1;32m    449[0m [43m                [49m[43mrun_manager[49m[38;5;241;43m=[39;49m[43mrun_managers[49m[43m[[49m[43mi[49m[43m][49m[43m [49m[38;5;28;43;01mif[39;49;00m[43m [49m[43mrun_managers[49m[43m [49m[38;5;28;43;01melse[39;49;00m[43m [49m[38;5;28;43;01mNone[39;49;00m[43m,[49m
[1;32m    450[0m [43m                [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m,[49m
[1;32m    451[0m [43m            [49m[43m)[49m
[1;32m    452[0m         )
[1;32m    453[0m     [38;5;28;01mexcept[39;00m [38;5;167;01mBaseException[39;00m [38;5;28;01mas[39;00m e:
[1;32m    454[0m         [38;5;28;01mif[39;00m run_managers:

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_core/language_models/chat_models.py:671[0m, in [0;36mBaseChatModel._generate_with_cache[0;34m(self, messages, stop, run_manager, **kwargs)[0m
[1;32m    669[0m [38;5;28;01melse[39;00m:
[1;32m    670[0m     [38;5;28;01mif[39;00m inspect[38;5;241m.[39msignature([38;5;28mself[39m[38;5;241m.[39m_generate)[38;5;241m.[39mparameters[38;5;241m.[39mget([38;5;124m"[39m[38;5;124mrun_manager[39m[38;5;124m"[39m):
[0;32m--> 671[0m         result [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_generate[49m[43m([49m
[1;32m    672[0m [43m            [49m[43mmessages[49m[43m,[49m[43m [49m[43mstop[49m[38;5;241;43m=[39;49m[43mstop[49m[43m,[49m[43m [49m[43mrun_manager[49m[38;5;241;43m=[39;49m[43mrun_manager[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m
[1;32m    673[0m [43m        [49m[43m)[49m
[1;32m    674[0m     [38;5;28;01melse[39;00m:
[1;32m    675[0m         result [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_generate(messages, stop[38;5;241m=[39mstop, [38;5;241m*[39m[38;5;241m*[39mkwargs)

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/langchain_openai/chat_models/base.py:537[0m, in [0;36mBaseChatOpenAI._generate[0;34m(self, messages, stop, run_manager, **kwargs)[0m
[1;32m    535[0m message_dicts, params [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_create_message_dicts(messages, stop)
[1;32m    536[0m params [38;5;241m=[39m {[38;5;241m*[39m[38;5;241m*[39mparams, [38;5;241m*[39m[38;5;241m*[39mkwargs}
[0;32m--> 537[0m response [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mclient[49m[38;5;241;43m.[39;49m[43mcreate[49m[43m([49m[43mmessages[49m[38;5;241;43m=[39;49m[43mmessage_dicts[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mparams[49m[43m)[49m
[1;32m    538[0m [38;5;28;01mreturn[39;00m [38;5;28mself[39m[38;5;241m.[39m_create_chat_result(response)

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_utils/_utils.py:277[0m, in [0;36mrequired_args.<locals>.inner.<locals>.wrapper[0;34m(*args, **kwargs)[0m
[1;32m    275[0m             msg [38;5;241m=[39m [38;5;124mf[39m[38;5;124m"[39m[38;5;124mMissing required argument: [39m[38;5;132;01m{[39;00mquote(missing[[38;5;241m0[39m])[38;5;132;01m}[39;00m[38;5;124m"[39m
[1;32m    276[0m     [38;5;28;01mraise[39;00m [38;5;167;01mTypeError[39;00m(msg)
[0;32m--> 277[0m [38;5;28;01mreturn[39;00m [43mfunc[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/resources/chat/completions.py:606[0m, in [0;36mCompletions.create[0;34m(self, messages, model, frequency_penalty, function_call, functions, logit_bias, logprobs, max_tokens, n, parallel_tool_calls, presence_penalty, response_format, seed, stop, stream, stream_options, temperature, tool_choice, tools, top_logprobs, top_p, user, extra_headers, extra_query, extra_body, timeout)[0m
[1;32m    573[0m [38;5;129m@required_args[39m([[38;5;124m"[39m[38;5;124mmessages[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mmodel[39m[38;5;124m"[39m], [[38;5;124m"[39m[38;5;124mmessages[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mmodel[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mstream[39m[38;5;124m"[39m])
[1;32m    574[0m [38;5;28;01mdef[39;00m [38;5;21mcreate[39m(
[1;32m    575[0m     [38;5;28mself[39m,
[0;32m   (...)[0m
[1;32m    604[0m     timeout: [38;5;28mfloat[39m [38;5;241m|[39m httpx[38;5;241m.[39mTimeout [38;5;241m|[39m [38;5;28;01mNone[39;00m [38;5;241m|[39m NotGiven [38;5;241m=[39m NOT_GIVEN,
[1;32m    605[0m ) [38;5;241m-[39m[38;5;241m>[39m ChatCompletion [38;5;241m|[39m Stream[ChatCompletionChunk]:
[0;32m--> 606[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_post[49m[43m([49m
[1;32m    607[0m [43m        [49m[38;5;124;43m"[39;49m[38;5;124;43m/chat/completions[39;49m[38;5;124;43m"[39;49m[43m,[49m
[1;32m    608[0m [43m        [49m[43mbody[49m[38;5;241;43m=[39;49m[43mmaybe_transform[49m[43m([49m
[1;32m    609[0m [43m            [49m[43m{[49m
[1;32m    610[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mmessages[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mmessages[49m[43m,[49m
[1;32m    611[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mmodel[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mmodel[49m[43m,[49m
[1;32m    612[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mfrequency_penalty[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mfrequency_penalty[49m[43m,[49m
[1;32m    613[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mfunction_call[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mfunction_call[49m[43m,[49m
[1;32m    614[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mfunctions[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mfunctions[49m[43m,[49m
[1;32m    615[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mlogit_bias[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mlogit_bias[49m[43m,[49m
[1;32m    616[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mlogprobs[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mlogprobs[49m[43m,[49m
[1;32m    617[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mmax_tokens[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mmax_tokens[49m[43m,[49m
[1;32m    618[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mn[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mn[49m[43m,[49m
[1;32m    619[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mparallel_tool_calls[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mparallel_tool_calls[49m[43m,[49m
[1;32m    620[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mpresence_penalty[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mpresence_penalty[49m[43m,[49m
[1;32m    621[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mresponse_format[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mresponse_format[49m[43m,[49m
[1;32m    622[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mseed[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mseed[49m[43m,[49m
[1;32m    623[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mstop[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mstop[49m[43m,[49m
[1;32m    624[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mstream[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mstream[49m[43m,[49m
[1;32m    625[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mstream_options[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mstream_options[49m[43m,[49m
[1;32m    626[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mtemperature[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mtemperature[49m[43m,[49m
[1;32m    627[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mtool_choice[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mtool_choice[49m[43m,[49m
[1;32m    628[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mtools[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mtools[49m[43m,[49m
[1;32m    629[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mtop_logprobs[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mtop_logprobs[49m[43m,[49m
[1;32m    630[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43mtop_p[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43mtop_p[49m[43m,[49m
[1;32m    631[0m [43m                [49m[38;5;124;43m"[39;49m[38;5;124;43muser[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43muser[49m[43m,[49m
[1;32m    632[0m [43m            [49m[43m}[49m[43m,[49m
[1;32m    633[0m [43m            [49m[43mcompletion_create_params[49m[38;5;241;43m.[39;49m[43mCompletionCreateParams[49m[43m,[49m
[1;32m    634[0m [43m        [49m[43m)[49m[43m,[49m
[1;32m    635[0m [43m        [49m[43moptions[49m[38;5;241;43m=[39;49m[43mmake_request_options[49m[43m([49m
[1;32m    636[0m [43m            [49m[43mextra_headers[49m[38;5;241;43m=[39;49m[43mextra_headers[49m[43m,[49m[43m [49m[43mextra_query[49m[38;5;241;43m=[39;49m[43mextra_query[49m[43m,[49m[43m [49m[43mextra_body[49m[38;5;241;43m=[39;49m[43mextra_body[49m[43m,[49m[43m [49m[43mtimeout[49m[38;5;241;43m=[39;49m[43mtimeout[49m
[1;32m    637[0m [43m        [49m[43m)[49m[43m,[49m
[1;32m    638[0m [43m        [49m[43mcast_to[49m[38;5;241;43m=[39;49m[43mChatCompletion[49m[43m,[49m
[1;32m    639[0m [43m        [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m [49m[38;5;129;43;01mor[39;49;00m[43m [49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    640[0m [43m        [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mStream[49m[43m[[49m[43mChatCompletionChunk[49m[43m][49m[43m,[49m
[1;32m    641[0m [43m    [49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1240[0m, in [0;36mSyncAPIClient.post[0;34m(self, path, cast_to, body, options, files, stream, stream_cls)[0m
[1;32m   1226[0m [38;5;28;01mdef[39;00m [38;5;21mpost[39m(
[1;32m   1227[0m     [38;5;28mself[39m,
[1;32m   1228[0m     path: [38;5;28mstr[39m,
[0;32m   (...)[0m
[1;32m   1235[0m     stream_cls: [38;5;28mtype[39m[_StreamT] [38;5;241m|[39m [38;5;28;01mNone[39;00m [38;5;241m=[39m [38;5;28;01mNone[39;00m,
[1;32m   1236[0m ) [38;5;241m-[39m[38;5;241m>[39m ResponseT [38;5;241m|[39m _StreamT:
[1;32m   1237[0m     opts [38;5;241m=[39m FinalRequestOptions[38;5;241m.[39mconstruct(
[1;32m   1238[0m         method[38;5;241m=[39m[38;5;124m"[39m[38;5;124mpost[39m[38;5;124m"[39m, url[38;5;241m=[39mpath, json_data[38;5;241m=[39mbody, files[38;5;241m=[39mto_httpx_files(files), [38;5;241m*[39m[38;5;241m*[39moptions
[1;32m   1239[0m     )
[0;32m-> 1240[0m     [38;5;28;01mreturn[39;00m cast(ResponseT, [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mrequest[49m[43m([49m[43mcast_to[49m[43m,[49m[43m [49m[43mopts[49m[43m,[49m[43m [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m[43m [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m)[49m)

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:921[0m, in [0;36mSyncAPIClient.request[0;34m(self, cast_to, options, remaining_retries, stream, stream_cls)[0m
[1;32m    912[0m [38;5;28;01mdef[39;00m [38;5;21mrequest[39m(
[1;32m    913[0m     [38;5;28mself[39m,
[1;32m    914[0m     cast_to: Type[ResponseT],
[0;32m   (...)[0m
[1;32m    919[0m     stream_cls: [38;5;28mtype[39m[_StreamT] [38;5;241m|[39m [38;5;28;01mNone[39;00m [38;5;241m=[39m [38;5;28;01mNone[39;00m,
[1;32m    920[0m ) [38;5;241m-[39m[38;5;241m>[39m ResponseT [38;5;241m|[39m _StreamT:
[0;32m--> 921[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_request[49m[43m([49m
[1;32m    922[0m [43m        [49m[43mcast_to[49m[38;5;241;43m=[39;49m[43mcast_to[49m[43m,[49m
[1;32m    923[0m [43m        [49m[43moptions[49m[38;5;241;43m=[39;49m[43moptions[49m[43m,[49m
[1;32m    924[0m [43m        [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m
[1;32m    925[0m [43m        [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m,[49m
[1;32m    926[0m [43m        [49m[43mremaining_retries[49m[38;5;241;43m=[39;49m[43mremaining_retries[49m[43m,[49m
[1;32m    927[0m [43m    [49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1005[0m, in [0;36mSyncAPIClient._request[0;34m(self, cast_to, options, remaining_retries, stream, stream_cls)[0m
[1;32m   1003[0m [38;5;28;01mif[39;00m retries [38;5;241m>[39m [38;5;241m0[39m [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39m_should_retry(err[38;5;241m.[39mresponse):
[1;32m   1004[0m     err[38;5;241m.[39mresponse[38;5;241m.[39mclose()
[0;32m-> 1005[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_retry_request[49m[43m([49m
[1;32m   1006[0m [43m        [49m[43moptions[49m[43m,[49m
[1;32m   1007[0m [43m        [49m[43mcast_to[49m[43m,[49m
[1;32m   1008[0m [43m        [49m[43mretries[49m[43m,[49m
[1;32m   1009[0m [43m        [49m[43merr[49m[38;5;241;43m.[39;49m[43mresponse[49m[38;5;241;43m.[39;49m[43mheaders[49m[43m,[49m
[1;32m   1010[0m [43m        [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m
[1;32m   1011[0m [43m        [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m,[49m
[1;32m   1012[0m [43m    [49m[43m)[49m
[1;32m   1014[0m [38;5;66;03m# If the response is streamed then we need to explicitly read the response[39;00m
[1;32m   1015[0m [38;5;66;03m# to completion before attempting to access the response text.[39;00m
[1;32m   1016[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m err[38;5;241m.[39mresponse[38;5;241m.[39mis_closed:

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1053[0m, in [0;36mSyncAPIClient._retry_request[0;34m(self, options, cast_to, remaining_retries, response_headers, stream, stream_cls)[0m
[1;32m   1049[0m [38;5;66;03m# In a synchronous context we are blocking the entire thread. Up to the library user to run the client in a[39;00m
[1;32m   1050[0m [38;5;66;03m# different thread if necessary.[39;00m
[1;32m   1051[0m time[38;5;241m.[39msleep(timeout)
[0;32m-> 1053[0m [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_request[49m[43m([49m
[1;32m   1054[0m [43m    [49m[43moptions[49m[38;5;241;43m=[39;49m[43moptions[49m[43m,[49m
[1;32m   1055[0m [43m    [49m[43mcast_to[49m[38;5;241;43m=[39;49m[43mcast_to[49m[43m,[49m
[1;32m   1056[0m [43m    [49m[43mremaining_retries[49m[38;5;241;43m=[39;49m[43mremaining[49m[43m,[49m
[1;32m   1057[0m [43m    [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m
[1;32m   1058[0m [43m    [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m,[49m
[1;32m   1059[0m [43m[49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1005[0m, in [0;36mSyncAPIClient._request[0;34m(self, cast_to, options, remaining_retries, stream, stream_cls)[0m
[1;32m   1003[0m [38;5;28;01mif[39;00m retries [38;5;241m>[39m [38;5;241m0[39m [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39m_should_retry(err[38;5;241m.[39mresponse):
[1;32m   1004[0m     err[38;5;241m.[39mresponse[38;5;241m.[39mclose()
[0;32m-> 1005[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_retry_request[49m[43m([49m
[1;32m   1006[0m [43m        [49m[43moptions[49m[43m,[49m
[1;32m   1007[0m [43m        [49m[43mcast_to[49m[43m,[49m
[1;32m   1008[0m [43m        [49m[43mretries[49m[43m,[49m
[1;32m   1009[0m [43m        [49m[43merr[49m[38;5;241;43m.[39;49m[43mresponse[49m[38;5;241;43m.[39;49m[43mheaders[49m[43m,[49m
[1;32m   1010[0m [43m        [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m
[1;32m   1011[0m [43m        [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m,[49m
[1;32m   1012[0m [43m    [49m[43m)[49m
[1;32m   1014[0m [38;5;66;03m# If the response is streamed then we need to explicitly read the response[39;00m
[1;32m   1015[0m [38;5;66;03m# to completion before attempting to access the response text.[39;00m
[1;32m   1016[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m err[38;5;241m.[39mresponse[38;5;241m.[39mis_closed:

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1053[0m, in [0;36mSyncAPIClient._retry_request[0;34m(self, options, cast_to, remaining_retries, response_headers, stream, stream_cls)[0m
[1;32m   1049[0m [38;5;66;03m# In a synchronous context we are blocking the entire thread. Up to the library user to run the client in a[39;00m
[1;32m   1050[0m [38;5;66;03m# different thread if necessary.[39;00m
[1;32m   1051[0m time[38;5;241m.[39msleep(timeout)
[0;32m-> 1053[0m [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_request[49m[43m([49m
[1;32m   1054[0m [43m    [49m[43moptions[49m[38;5;241;43m=[39;49m[43moptions[49m[43m,[49m
[1;32m   1055[0m [43m    [49m[43mcast_to[49m[38;5;241;43m=[39;49m[43mcast_to[49m[43m,[49m
[1;32m   1056[0m [43m    [49m[43mremaining_retries[49m[38;5;241;43m=[39;49m[43mremaining[49m[43m,[49m
[1;32m   1057[0m [43m    [49m[43mstream[49m[38;5;241;43m=[39;49m[43mstream[49m[43m,[49m
[1;32m   1058[0m [43m    [49m[43mstream_cls[49m[38;5;241;43m=[39;49m[43mstream_cls[49m[43m,[49m
[1;32m   1059[0m [43m[49m[43m)[49m

File [0;32m/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/openai/_base_client.py:1020[0m, in [0;36mSyncAPIClient._request[0;34m(self, cast_to, options, remaining_retries, stream, stream_cls)[0m
[1;32m   1017[0m         err[38;5;241m.[39mresponse[38;5;241m.[39mread()
[1;32m   1019[0m     log[38;5;241m.[39mdebug([38;5;124m"[39m[38;5;124mRe-raising status error[39m[38;5;124m"[39m)
[0;32m-> 1020[0m     [38;5;28;01mraise[39;00m [38;5;28mself[39m[38;5;241m.[39m_make_status_error_from_response(err[38;5;241m.[39mresponse) [38;5;28;01mfrom[39;00m [38;5;28;01mNone[39;00m
[1;32m   1022[0m [38;5;28;01mreturn[39;00m [38;5;28mself[39m[38;5;241m.[39m_process_response(
[1;32m   1023[0m     cast_to[38;5;241m=[39mcast_to,
[1;32m   1024[0m     options[38;5;241m=[39moptions,
[0;32m   (...)[0m
[1;32m   1027[0m     stream_cls[38;5;241m=[39mstream_cls,
[1;32m   1028[0m )

[0;31mRateLimitError[0m: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-K2Pw68cQF90u1datxdpoX4Ft on requests per min (RPM): Limit 500, Used 500, Requested 1. Please try again in 120ms. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'requests', 'param': None, 'code': 'rate_limit_exceeded'}}

